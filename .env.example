# =============================================================================
# CRYPTO PLATFORM - ENVIRONMENT CONFIGURATION
# Copy this file to .env for local development
# All real secrets stay out of the repo and are injected on Fly.io
# =============================================================================

# === EMAIL (Resend – default sender works without a domain) ===
SMTP_HOST=smtp.resend.com
SMTP_PORT=587
SMTP_USER=resend
SMTP_PASSWORD=re_XXXXXXXXXXXXXXXXXXXXXXXX   # ← Your Resend API key
SMTP_FROM=noreply@resend.dev               # ← Works out-of-the-box

# === DATABASE (Fly will create a managed Postgres or you can use local) ===
DATABASE_URL=postgresql://user:pass@localhost:5432/crypto_sim
POSTGRES_USER=crypto_user
POSTGRES_PASSWORD=change_me_in_production
POSTGRES_DB=crypto_sim

# === REDIS (Optional - for caching and rate limiting) ===
REDIS_URL=redis://:your_redis_password@localhost:6379/0

# === JWT & SECURITY ===
JWT_SECRET=super_secret_change_me_in_production
JWT_ALGORITHM=HS256
ACCESS_TOKEN_EXPIRE_MINUTES=15
REFRESH_TOKEN_EXPIRE_DAYS=30

# === APP URLs (Fly will override with the real domain) ===
FRONTEND_URL=http://localhost:3000
BACKEND_URL=http://localhost:8000

# === ENVIRONMENT ===
ENVIRONMENT=production
DEBUG=false

# === RATE LIMITING ===
RATE_LIMIT_SIGNUP=5/hour
RATE_LIMIT_LOGIN=10/hour

# === STRIPE PAYMENTS (Use restricted key, not secret key) ===
# Get restricted key from: https://dashboard.stripe.com/apikeys/create?type=restricted
# Permissions needed: Charges (write), Checkout Sessions (write), Customers (write)
STRIPE_RESTRICTED_KEY=rk_test_XXXXXXXXXXXXXXXXXXXXXXXX   # ← Your Stripe restricted key
STRIPE_WEBHOOK_SECRET=whsec_test_XXXXXXXXXXXXXXXXXXXXXXXX  # ← From webhook endpoint setup
# Note: Use price_xxx IDs for checkout. If you have prod_xxx, get the price ID from the product
STRIPE_PRICE_ID_PRO=prod_TP2Kp63eQkPFAq                   # ← Pro tier price/product ID
STRIPE_PRICE_ID_ELITE=price_1ABC456...                  # ← Elite tier price ID
STRIPE_PRICE_ID_VALKYRIE=price_1ABC789...               # ← Valkyrie tier price ID

# === TIER STARTING BALANCES (in cents: 10000 = $100.00) ===
TIER_FREE_BALANCE=1000000
TIER_PRO_BALANCE=2500000
TIER_ELITE_BALANCE=10000000
TIER_VALKYRIE_BALANCE=50000000
